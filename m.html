<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>QR Tools | Ø£Ø¯ÙˆØ§Øª QR Ø§Ù„Ø³Ø±ÙŠØ¹Ø©</title>
<meta name="description" content="Ù…Ù†ØµØ© Ø£Ø¯ÙˆØ§Øª QR Ø³Ø±ÙŠØ¹Ø© Ù„ÙÙƒ ØªØ´ÙÙŠØ± ÙˆØ¥Ù†Ø´Ø§Ø¡ Ø±Ù…ÙˆØ² QR ÙˆWi-Fi Ù…Ø¨Ø§Ø´Ø±Ø© Ù…Ù† Ø§Ù„Ù…ØªØµÙØ­.">
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- SEO Schema -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "SoftwareApplication",
  "name": "QR Tools",
  "applicationCategory": "UtilityApplication",
  "operatingSystem": "All",
  "offers": { "@type": "Offer", "price": "0" }
}
</script>

<link rel="stylesheet" href="assets/main.css">
<script src="https://unpkg.com/html5-qrcode"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
<style>
body {
  margin: 0;
  font-family: system-ui, Tahoma;
  background: #f5f7fa;
}

.navbar {
  background: #111;
  color: #fff;
  padding: 10px;
  display: flex;
  justify-content: space-between;
}

.navbar button {
  margin: 0 3px;
  padding: 5px 10px;
}

.section {
  display: none;
  max-width: 600px;
  margin: auto;
  padding: 20px;
}

.section.active {
  display: block;
}

#wifiBox {
  display: none;
}

pre {
  background: #fff;
  padding: 10px;
}

.footer {
  text-align: center;
  padding: 15px;
  font-size: 13px;
}

  
</style>
</head>

<body>

<!-- ğŸ”¹ NAVBAR -->
<nav class="navbar">
  <strong>QR Tools</strong>
  <div>
    <button onclick="showSection('home')">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
    <button onclick="showSection('decoder')">QR Decoder</button>
    <button onclick="showSection('generator')">QR Generator</button>
    <button onclick="toggleLang()">AR / EN</button>
  </div>
</nav>

<!-- ğŸ”¹ HOME -->
<section id="home" class="section active">
  <h1>Ø£Ø¯ÙˆØ§Øª QR Ø§Ù„Ø³Ø±ÙŠØ¹Ø©</h1>
  <p>Ù…Ù†ØµØ© Ø®ÙÙŠÙØ© Ù„ÙÙƒ ØªØ´ÙÙŠØ± ÙˆØ¥Ù†Ø´Ø§Ø¡ Ø±Ù…ÙˆØ² QR Ø¨Ø¯ÙˆÙ† Ø±ÙØ¹ Ø£ÙŠ Ø¨ÙŠØ§Ù†Ø§Øª.</p>
</section>

<!-- ğŸ”¹ DECODER -->
<section id="decoder" class="section">
  <h2>QR Decoder</h2>
  <div id="reader"></div>
  <input type="file" id="qr-file" accept="image/*">
  <pre id="decodeResult">â€”</pre>
</section>

<!-- ğŸ”¹ GENERATOR -->
<section id="generator" class="section">
  <h2>QR Generator</h2>

  <select id="qrType">
    <option value="text">Ù†Øµ / Text</option>
    <option value="url">Ø±Ø§Ø¨Ø· / URL</option>
    <option value="wifi">Wi-Fi</option>
  </select>

  <input id="qrInput" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ù†Øµ Ø£Ùˆ Ø§Ù„Ø±Ø§Ø¨Ø·">

  <div id="wifiBox">
    <input id="ssid" placeholder="SSID">
    <input id="pass" placeholder="Password">
  </div>

  <button onclick="generateQR()">Ø¥Ù†Ø´Ø§Ø¡ QR</button>
  <div id="qrcode"></div>
</section>

<footer class="footer">
  <small>Â© QR Tools â€” ÙŠØ¹Ù…Ù„ 100% Ø¹Ù„Ù‰ Ø¬Ù‡Ø§Ø²Ùƒ</small>
</footer>

<script src="assets/main.js"></script>
<script>
  /* NAVIGATION */
function showSection(id) {
  document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}

/* QR DECODER */
const output = document.getElementById("decodeResult");
const qr = new Html5Qrcode("reader");

qr.start(
  { facingMode: "environment" },
  { fps: 10, qrbox: 250 },
  text => {
    output.textContent = parseWifi(text);
    qr.stop();
  }
);

document.getElementById("qr-file").addEventListener("change", e => {
  const file = e.target.files[0];
  if (!file) return;

  const scanner = new Html5Qrcode("reader");
  scanner.scanFile(file, true)
    .then(text => output.textContent = parseWifi(text))
    .catch(() => output.textContent = "âŒ Ù„Ù… ÙŠØªÙ… Ø§Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø±Ù…Ø²");
});

function parseWifi(text) {
  if (text.startsWith("WIFI:")) {
    const data = {};
    text.replace("WIFI:", "").split(";").forEach(i => {
      const [k, v] = i.split(":");
      data[k] = v;
    });
    return `SSID: ${data.S}\nSecurity: ${data.T}\nPassword: ${data.P}`;
  }
  return text;
}

/* QR GENERATOR */
const type = document.getElementById("qrType");
const wifiBox = document.getElementById("wifiBox");
const qrBox = document.getElementById("qrcode");

type.onchange = () => wifiBox.style.display = type.value === "wifi" ? "block" : "none";

function generateQR() {
  qrBox.innerHTML = "";
  let text = document.getElementById("qrInput").value;

  if (type.value === "wifi") {
    text = `WIFI:T:WPA;S:${ssid.value};P:${pass.value};;`;
  }

  new QRCode(qrBox, { text, width: 200, height: 200 });
}

/* LANGUAGE */
let lang = "ar";
function toggleLang() {
  lang = lang === "ar" ? "en" : "ar";
  document.documentElement.dir = lang === "ar" ? "rtl" : "ltr";
  document.documentElement.lang = lang;
}

</script>
</body>
</html>
